<div class="min-h-screen bg-linear-to-br from-blue-600 via-blue-500 to-orange-500">
  <!-- Header -->
  <app-header />

  <!-- Main Content -->
  <div class="flex items-center justify-center p-4 py-12">
    <div
      class="bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-8 w-full max-w-4xl border border-white/20"
    >
      <!-- Title -->
      <div class="text-center mb-8">
        <div
          class="w-20 h-20 bg-linear-to-br from-blue-500 to-orange-500 rounded-full mx-auto mb-4 flex items-center justify-center shadow-lg"
        >
          <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"
            />
          </svg>
        </div>

        <h1
          class="text-3xl font-bold bg-linear-to-r from-blue-600 to-orange-500 bg-clip-text text-transparent mb-2"
        >
          Selecciona el área a trabajar
        </h1>
        <p class="text-gray-600">Elige la zona, área, edificio y departamento</p>
      </div>

      <!-- Selection Grid -->
      <div class="grid md:grid-cols-2 gap-8">
        <!-- Zona Select -->
        <div>
          <label
            for="zona"
            class="flex text-xl font-semibold text-gray-800 mb-4 items-center gap-2"
          >
            <span
              class="bg-blue-500 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm"
              >1</span
            >
            Zona
          </label>

          <div class="relative">
            <select
              id="zona"
              name="zona"
              [(ngModel)]="selectedZonaId"
              (ngModelChange)="cambioZona($event)"
              class="w-full px-4 py-3 pr-10 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none bg-white text-gray-700 font-medium appearance-none cursor-pointer hover:border-blue-400"
              [class.border-blue-500]="selectedZonaId"
              [class.bg-blue-50]="selectedZonaId"
            >
              <option [value]="null" disabled selected>Selecciona una zona</option>
              @for (zona of zonas; track zona.id) {
              <option [value]="zona.id">{{ zona.nombre }}</option>
              }
            </select>

            <div class="absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none">
              <svg
                class="w-5 h-5 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 9l-7 7-7-7"
                />
              </svg>
            </div>
          </div>

          @if (selectedZonaId) {
          <div class="mt-3 flex items-center gap-2 text-sm text-blue-600 animate-fade-in">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
              <path
                fill-rule="evenodd"
                d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                clip-rule="evenodd"
              />
            </svg>
            <span>Zona seleccionada</span>
          </div>
          }
        </div>

        <!-- Área Select -->
        <div>
          <label
            for="area"
            class="flex text-xl font-semibold text-gray-800 mb-4 items-center gap-2"
          >
            <span
              class="bg-orange-500 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm"
              >2</span
            >
            Área
          </label>

          <div class="relative">
            <select
              id="area"
              name="area"
              [(ngModel)]="selectedAreaId"
              (ngModelChange)="cambioArea($event)"
              [disabled]="!selectedZonaId"
              class="w-full px-4 py-3 pr-10 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all outline-none bg-white text-gray-700 font-medium appearance-none cursor-pointer hover:border-orange-400 disabled:bg-gray-100 disabled:cursor-not-allowed"
              [class.border-orange-500]="selectedAreaId"
              [class.bg-orange-50]="selectedAreaId"
            >
              <option [value]="null" disabled selected>Selecciona un área</option>
              @for (area of areasFiltradas; track area.id) {
              <option [value]="area.id">{{ area.nombre }}</option>
              }
            </select>

            <div class="absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none">
              <svg
                class="w-5 h-5 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 9l-7 7-7-7"
                />
              </svg>
            </div>
          </div>

          @if (selectedAreaId) {
          <div class="mt-3 flex items-center gap-2 text-sm text-orange-600 animate-fade-in">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
              <path
                fill-rule="evenodd"
                d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                clip-rule="evenodd"
              />
            </svg>
            <span>Área seleccionada</span>
          </div>
          }
        </div>

        <!-- Edificio Select -->
        <div>
          <label
            for="edificio"
            class="flex text-xl font-semibold text-gray-800 mb-4 items-center gap-2"
          >
            <span
              class="bg-purple-500 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm"
              >3</span
            >
            Edificio
          </label>

          <div class="relative">
            <select
              id="edificio"
              name="edificio"
              [(ngModel)]="selectedEdificioId"
              (ngModelChange)="cambioEdificio($event)"
              [disabled]="!selectedAreaId"
              class="w-full px-4 py-3 pr-10 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all outline-none bg-white text-gray-700 font-medium appearance-none cursor-pointer hover:border-purple-400 disabled:bg-gray-100 disabled:cursor-not-allowed"
              [class.border-purple-500]="selectedEdificioId"
              [class.bg-purple-50]="selectedEdificioId"
            >
              <option [value]="null" disabled selected>Selecciona un edificio</option>
              @for (edificio of edificiosFiltrados; track edificio.id) {
              <option [value]="edificio.id">{{ edificio.nombre }}</option>
              }
            </select>

            <div class="absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none">
              <svg
                class="w-5 h-5 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 9l-7 7-7-7"
                />
              </svg>
            </div>
          </div>

          @if (selectedEdificioId) {
          <div class="mt-3 flex items-center gap-2 text-sm text-purple-600 animate-fade-in">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
              <path
                fill-rule="evenodd"
                d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                clip-rule="evenodd"
              />
            </svg>
            <span>Edificio seleccionado</span>
          </div>
          }
        </div>

        <!-- Departamento Select -->
        <div>
          <label
            for="departamento"
            class="flex text-xl font-semibold text-gray-800 mb-4 items-center gap-2"
          >
            <span
              class="bg-pink-500 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm"
              >4</span
            >
            Departamento
          </label>

          <div class="relative">
            <select
              id="departamento"
              name="departamento"
              [(ngModel)]="selectedDepartamentoId"
              [disabled]="!selectedEdificioId"
              class="w-full px-4 py-3 pr-10 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-all outline-none bg-white text-gray-700 font-medium appearance-none cursor-pointer hover:border-pink-400 disabled:bg-gray-100 disabled:cursor-not-allowed"
              [class.border-pink-500]="selectedDepartamentoId"
              [class.bg-pink-50]="selectedDepartamentoId"
            >
              <option [value]="null" disabled selected>Selecciona un departamento</option>
              @for (departamento of departamentosFiltrados; track departamento.id) {
              <option [value]="departamento.id">{{ departamento.nombre }}</option>
              }
            </select>

            <div class="absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none">
              <svg
                class="w-5 h-5 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 9l-7 7-7-7"
                />
              </svg>
            </div>
          </div>

          @if (selectedDepartamentoId) {
          <div class="mt-3 flex items-center gap-2 text-sm text-pink-600 animate-fade-in">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
              <path
                fill-rule="evenodd"
                d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                clip-rule="evenodd"
              />
            </svg>
            <span>Departamento seleccionado</span>
          </div>
          }
        </div>
      </div>

      <!-- Continue Button -->
      <button
        type="button"
        (click)="continuar()"
        [disabled]="!selectedZonaId || !selectedAreaId || !selectedEdificioId || !selectedDepartamentoId"
        class="mt-8 w-full bg-linear-to-r from-blue-600 to-orange-500 text-white py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-orange-600 focus:ring-4 focus:ring-orange-300 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:bg-gray-400 disabled:cursor-not-allowed disabled:transform-none disabled:opacity-50 cursor-pointer"
      >
        Continuar
      </button>
    </div>
  </div>
</div>
